# Bcrypt is used to hash the values

# JWT is used to encrypt the data by using secret tokens.

- where a hook is used of mongoose called pre-hook (just before the code is going to execute)

# NOTE - this process takes time so we will use the async await in it.

- there is a problem in it that if someone will create for example avatar then this function of bcrypt.hash() will generate the new password as well with it.
- to avoid that problem, if explain that if the password field have no modifications then no need to run it.
- we will use this - if (!this.isModified("password")) return next();

# What exactly jwt is?

- Is a bearer token, like a key which will have this token the data then will be send to that.
- this token are basically generated by the library jsonwebtoken
- but it need some of the variables.- way to generate the token

```
userSchema.methods.generateAccessToken = function () {
  return jwt.sign(
    {
      //payload
      _id: this._id,
      email: this.email,
      username: this.username,
      fullName: this.fullName,
    },
    process.env.ACCESS_TOKEN_SECRET,
    {
      expiresIn: process.env.ACCESS_TOKEN_EXPIRY,
    }
  );
};
```
